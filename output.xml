<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 6.1.1 (Python 3.10.12 on linux)" generated="20231031 20:22:50.935" rpa="true" schemaversion="4">
<suite id="s1" name="Consumer" source="/home/andre/inhuman-insurance-inc-ais-robot/consumer.robot">
<test id="s1-t1" name="Consume traffic data work items" line="10">
<kw name="For Each Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>Process traffic data</arg>
<doc>Run a keyword or function for each work item in the input queue.</doc>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:51.762" level="INFO">${payload} = {'traffic_data': {'country': 'VCT', 'year': 2011, 'rate': 3.69293}}</msg>
<status status="PASS" starttime="20231031 20:22:51.762" endtime="20231031 20:22:51.763"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:51.765" level="INFO">${traffic_data} = {'country': 'VCT', 'year': 2011, 'rate': 3.69293}</msg>
<status status="PASS" starttime="20231031 20:22:51.764" endtime="20231031 20:22:51.765"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:51.767" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:51.790" level="INFO">${country} = VCT</msg>
<status status="PASS" starttime="20231031 20:22:51.766" endtime="20231031 20:22:51.791"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:51.792" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:51.791" endtime="20231031 20:22:51.792"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:51.792" endtime="20231031 20:22:51.792"/>
</return>
<msg timestamp="20231031 20:22:51.792" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:51.765" endtime="20231031 20:22:51.792"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:51.794" endtime="20231031 20:22:52.569"/>
</kw>
<msg timestamp="20231031 20:22:52.570" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:52.570" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:51.794" endtime="20231031 20:22:52.570"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:52.571" endtime="20231031 20:22:52.571"/>
</return>
<msg timestamp="20231031 20:22:52.571" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:52.572" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:51.793" endtime="20231031 20:22:52.572"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:52.577" level="INFO">Releasing item '0' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:52.576" endtime="20231031 20:22:52.578"/>
</kw>
<status status="PASS" starttime="20231031 20:22:52.574" endtime="20231031 20:22:52.578"/>
</kw>
<status status="PASS" starttime="20231031 20:22:52.574" endtime="20231031 20:22:52.578"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:52.579" endtime="20231031 20:22:52.579"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:52.579" endtime="20231031 20:22:52.580"/>
</branch>
<status status="PASS" starttime="20231031 20:22:52.574" endtime="20231031 20:22:52.580"/>
</if>
<status status="PASS" starttime="20231031 20:22:52.572" endtime="20231031 20:22:52.580"/>
</kw>
<status status="PASS" starttime="20231031 20:22:51.793" endtime="20231031 20:22:52.580"/>
</kw>
<status status="PASS" starttime="20231031 20:22:51.793" endtime="20231031 20:22:52.581"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:52.581" endtime="20231031 20:22:52.582"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:52.581" endtime="20231031 20:22:52.582"/>
</branch>
<status status="PASS" starttime="20231031 20:22:51.793" endtime="20231031 20:22:52.582"/>
</if>
<status status="PASS" starttime="20231031 20:22:51.762" endtime="20231031 20:22:52.582"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:52.584" level="INFO">${payload} = {'traffic_data': {'country': 'SWError', 'year': 2019, 'rate': 3.13947}}</msg>
<status status="PASS" starttime="20231031 20:22:52.583" endtime="20231031 20:22:52.584"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:52.588" level="INFO">${traffic_data} = {'country': 'SWError', 'year': 2019, 'rate': 3.13947}</msg>
<status status="PASS" starttime="20231031 20:22:52.585" endtime="20231031 20:22:52.588"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:52.595" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:52.633" level="INFO">${country} = SWError</msg>
<status status="PASS" starttime="20231031 20:22:52.591" endtime="20231031 20:22:52.633"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:52.634" level="INFO">${valid} = False</msg>
<status status="PASS" starttime="20231031 20:22:52.633" endtime="20231031 20:22:52.634"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:52.635" endtime="20231031 20:22:52.635"/>
</return>
<msg timestamp="20231031 20:22:52.635" level="INFO">${valid} = False</msg>
<status status="PASS" starttime="20231031 20:22:52.589" endtime="20231031 20:22:52.635"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:52.636" endtime="20231031 20:22:52.636"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:52.636" endtime="20231031 20:22:52.637"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<kw name="Correct Traffic Data">
<var>${corrected_data}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:52.642" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:52.663" level="INFO">${country} = SWError</msg>
<status status="PASS" starttime="20231031 20:22:52.639" endtime="20231031 20:22:52.663"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${country_length}</var>
<arg>${country}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20231031 20:22:52.664" level="INFO">Length is 7</msg>
<msg timestamp="20231031 20:22:52.664" level="INFO">${country_length} = 7</msg>
<status status="PASS" starttime="20231031 20:22:52.663" endtime="20231031 20:22:52.664"/>
</kw>
<if>
<branch type="IF" condition="${country_length} &gt; 3">
<kw name="Log" library="BuiltIn">
<arg>Invalid country detected: ${country}. Correcting to BRA.</arg>
<arg>WARN</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:22:52.665" level="WARN">Invalid country detected: SWError. Correcting to BRA.</msg>
<status status="PASS" starttime="20231031 20:22:52.665" endtime="20231031 20:22:52.665"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}[country]</var>
<arg>BRA</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:52.666" level="INFO">${traffic_data}[country] = BRA</msg>
<status status="PASS" starttime="20231031 20:22:52.665" endtime="20231031 20:22:52.666"/>
</kw>
<kw name="Sleep" library="BuiltIn">
<arg>3</arg>
<doc>Pauses the test executed for the given time.</doc>
<msg timestamp="20231031 20:22:55.666" level="INFO">Slept 3 seconds</msg>
<status status="PASS" starttime="20231031 20:22:52.666" endtime="20231031 20:22:55.667"/>
</kw>
<kw name="Save Work Item" library="RPA.Robocorp.WorkItems">
<doc>Save the current data and files in the work item. If not saved,
all changes are discarded when the library goes out of scope.</doc>
<msg timestamp="20231031 20:22:55.669" level="INFO">Saved into input file: /home/andre/inhuman-insurance-inc-ais-robot/devdata/work-items-out/run-1/work-items.json</msg>
<status status="PASS" starttime="20231031 20:22:55.667" endtime="20231031 20:22:55.670"/>
</kw>
<return>
<value>${traffic_data}</value>
<status status="PASS" starttime="20231031 20:22:55.671" endtime="20231031 20:22:55.671"/>
</return>
<status status="PASS" starttime="20231031 20:22:52.664" endtime="20231031 20:22:55.671"/>
</branch>
<status status="PASS" starttime="20231031 20:22:52.664" endtime="20231031 20:22:55.672"/>
</if>
<msg timestamp="20231031 20:22:55.672" level="INFO">${corrected_data} = {'country': 'BRA', 'year': 2019, 'rate': 3.13947}</msg>
<status status="PASS" starttime="20231031 20:22:52.638" endtime="20231031 20:22:55.673"/>
</kw>
<if>
<branch type="IF" condition="&quot;${corrected_data}&quot; != &quot;None&quot;">
<kw name="Log" library="BuiltIn">
<arg>Corrected traffic data: ${corrected_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:22:55.674" level="INFO">Corrected traffic data: {'country': 'BRA', 'year': 2019, 'rate': 3.13947}</msg>
<status status="PASS" starttime="20231031 20:22:55.674" endtime="20231031 20:22:55.675"/>
</kw>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${corrected_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:55.677" endtime="20231031 20:22:55.903"/>
</kw>
<msg timestamp="20231031 20:22:55.904" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:55.904" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:55.676" endtime="20231031 20:22:55.904"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:55.905" endtime="20231031 20:22:55.905"/>
</return>
<msg timestamp="20231031 20:22:55.906" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:55.906" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:55.675" endtime="20231031 20:22:55.906"/>
</kw>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:55.908" level="INFO">Releasing item '1' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:55.907" endtime="20231031 20:22:55.909"/>
</kw>
<return>
<status status="PASS" starttime="20231031 20:22:55.909" endtime="20231031 20:22:55.910"/>
</return>
<status status="PASS" starttime="20231031 20:22:55.906" endtime="20231031 20:22:55.910"/>
</branch>
<status status="PASS" starttime="20231031 20:22:55.906" endtime="20231031 20:22:55.910"/>
</if>
<status status="PASS" starttime="20231031 20:22:55.673" endtime="20231031 20:22:55.910"/>
</branch>
<status status="PASS" starttime="20231031 20:22:55.673" endtime="20231031 20:22:55.910"/>
</if>
<kw name="Set Variable" library="BuiltIn">
<var>${message}</var>
<arg>Invalid traffic data: ${traffic_data}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" starttime="20231031 20:22:55.911" endtime="20231031 20:22:55.911"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${message}</arg>
<arg>WARN</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:22:55.911" endtime="20231031 20:22:55.912"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=BUSINESS</arg>
<arg>code=INVALID_TRAFFIC_DATA</arg>
<arg>message=${message}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:22:55.912" endtime="20231031 20:22:55.912"/>
</kw>
<status status="PASS" starttime="20231031 20:22:52.637" endtime="20231031 20:22:55.913"/>
</kw>
<status status="PASS" starttime="20231031 20:22:52.637" endtime="20231031 20:22:55.913"/>
</branch>
<status status="PASS" starttime="20231031 20:22:52.636" endtime="20231031 20:22:55.913"/>
</if>
<status status="PASS" starttime="20231031 20:22:52.583" endtime="20231031 20:22:55.913"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:55.915" level="INFO">${payload} = {'traffic_data': {'country': 'SWE', 'year': 2018, 'rate': 3.61718}}</msg>
<status status="PASS" starttime="20231031 20:22:55.915" endtime="20231031 20:22:55.916"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:55.917" level="INFO">${traffic_data} = {'country': 'SWE', 'year': 2018, 'rate': 3.61718}</msg>
<status status="PASS" starttime="20231031 20:22:55.916" endtime="20231031 20:22:55.917"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:55.926" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:55.960" level="INFO">${country} = SWE</msg>
<status status="PASS" starttime="20231031 20:22:55.919" endtime="20231031 20:22:55.960"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:55.961" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:55.960" endtime="20231031 20:22:55.961"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:55.961" endtime="20231031 20:22:55.962"/>
</return>
<msg timestamp="20231031 20:22:55.962" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:55.918" endtime="20231031 20:22:55.962"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:55.964" endtime="20231031 20:22:56.267"/>
</kw>
<msg timestamp="20231031 20:22:56.269" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:56.269" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:55.964" endtime="20231031 20:22:56.269"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:56.270" endtime="20231031 20:22:56.270"/>
</return>
<msg timestamp="20231031 20:22:56.271" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:56.271" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:55.963" endtime="20231031 20:22:56.272"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:56.277" level="INFO">Releasing item '2' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:56.276" endtime="20231031 20:22:56.281"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.275" endtime="20231031 20:22:56.282"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.274" endtime="20231031 20:22:56.283"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:56.284" endtime="20231031 20:22:56.284"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:56.283" endtime="20231031 20:22:56.284"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.274" endtime="20231031 20:22:56.285"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.272" endtime="20231031 20:22:56.285"/>
</kw>
<status status="PASS" starttime="20231031 20:22:55.963" endtime="20231031 20:22:56.285"/>
</kw>
<status status="PASS" starttime="20231031 20:22:55.962" endtime="20231031 20:22:56.286"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:56.287" endtime="20231031 20:22:56.287"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:56.286" endtime="20231031 20:22:56.287"/>
</branch>
<status status="PASS" starttime="20231031 20:22:55.962" endtime="20231031 20:22:56.288"/>
</if>
<status status="PASS" starttime="20231031 20:22:55.914" endtime="20231031 20:22:56.288"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:56.291" level="INFO">${payload} = {'traffic_data': {'country': 'SVN', 'year': 2018, 'rate': 4.52394}}</msg>
<status status="PASS" starttime="20231031 20:22:56.290" endtime="20231031 20:22:56.291"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:56.294" level="INFO">${traffic_data} = {'country': 'SVN', 'year': 2018, 'rate': 4.52394}</msg>
<status status="PASS" starttime="20231031 20:22:56.292" endtime="20231031 20:22:56.294"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:56.302" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:56.369" level="INFO">${country} = SVN</msg>
<status status="PASS" starttime="20231031 20:22:56.296" endtime="20231031 20:22:56.369"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:56.371" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:56.370" endtime="20231031 20:22:56.371"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:56.372" endtime="20231031 20:22:56.372"/>
</return>
<msg timestamp="20231031 20:22:56.372" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:56.295" endtime="20231031 20:22:56.373"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:22:56.625" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:22:56.383" endtime="20231031 20:22:56.628"/>
</kw>
<msg timestamp="20231031 20:22:56.629" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:56.629" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:56.382" endtime="20231031 20:22:56.629"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:56.630" endtime="20231031 20:22:56.630"/>
</return>
<msg timestamp="20231031 20:22:56.631" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:56.632" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:56.381" endtime="20231031 20:22:56.632"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:22:56.634" endtime="20231031 20:22:56.634"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:56.633" endtime="20231031 20:22:56.634"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:56.638" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:22:56.637" endtime="20231031 20:22:56.638"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:56.642" endtime="20231031 20:22:56.894"/>
</kw>
<msg timestamp="20231031 20:22:56.895" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:56.896" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:56.641" endtime="20231031 20:22:56.896"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:56.896" endtime="20231031 20:22:56.897"/>
</return>
<msg timestamp="20231031 20:22:56.897" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:56.897" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:56.640" endtime="20231031 20:22:56.898"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:22:56.900" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'SVN', 'year': 2018, 'rate': 4.52394}</msg>
<status status="PASS" starttime="20231031 20:22:56.898" endtime="20231031 20:22:56.900"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:22:56.900" endtime="20231031 20:22:56.901"/>
</break>
<status status="PASS" starttime="20231031 20:22:56.898" endtime="20231031 20:22:56.901"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.898" endtime="20231031 20:22:56.901"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.640" endtime="20231031 20:22:56.902"/>
</iter>
<status status="PASS" starttime="20231031 20:22:56.638" endtime="20231031 20:22:56.902"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:56.902" endtime="20231031 20:22:56.903"/>
</return>
<msg timestamp="20231031 20:22:56.904" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:56.904" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:56.636" endtime="20231031 20:22:56.904"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:22:56.906" endtime="20231031 20:22:56.906"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:22:56.907" endtime="20231031 20:22:56.907"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:56.905" endtime="20231031 20:22:56.907"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.905" endtime="20231031 20:22:56.908"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.635" endtime="20231031 20:22:56.908"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.635" endtime="20231031 20:22:56.908"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.633" endtime="20231031 20:22:56.908"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.632" endtime="20231031 20:22:56.908"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.374" endtime="20231031 20:22:56.909"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.373" endtime="20231031 20:22:56.909"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:56.910" endtime="20231031 20:22:56.910"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:56.909" endtime="20231031 20:22:56.910"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.373" endtime="20231031 20:22:56.910"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.289" endtime="20231031 20:22:56.910"/>
</kw>
<msg timestamp="20231031 20:22:56.911" level="INFO">Releasing item '3' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:56.913" level="INFO">${payload} = {'traffic_data': {'country': 'SGP', 'year': 2019, 'rate': 2.08609}}</msg>
<status status="PASS" starttime="20231031 20:22:56.912" endtime="20231031 20:22:56.913"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:56.914" level="INFO">${traffic_data} = {'country': 'SGP', 'year': 2019, 'rate': 2.08609}</msg>
<status status="PASS" starttime="20231031 20:22:56.913" endtime="20231031 20:22:56.914"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:56.918" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:56.981" level="INFO">${country} = SGP</msg>
<status status="PASS" starttime="20231031 20:22:56.915" endtime="20231031 20:22:56.981"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:56.982" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:56.981" endtime="20231031 20:22:56.982"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:56.982" endtime="20231031 20:22:56.982"/>
</return>
<msg timestamp="20231031 20:22:56.983" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:56.915" endtime="20231031 20:22:56.983"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:22:57.255" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:22:56.984" endtime="20231031 20:22:57.256"/>
</kw>
<msg timestamp="20231031 20:22:57.256" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:57.257" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:56.984" endtime="20231031 20:22:57.257"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:57.257" endtime="20231031 20:22:57.260"/>
</return>
<msg timestamp="20231031 20:22:57.261" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:57.261" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:56.983" endtime="20231031 20:22:57.262"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:22:57.264" endtime="20231031 20:22:57.264"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:57.263" endtime="20231031 20:22:57.264"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:57.269" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:22:57.268" endtime="20231031 20:22:57.269"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:57.274" endtime="20231031 20:22:57.527"/>
</kw>
<msg timestamp="20231031 20:22:57.528" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:57.528" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.273" endtime="20231031 20:22:57.528"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:57.528" endtime="20231031 20:22:57.529"/>
</return>
<msg timestamp="20231031 20:22:57.530" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:57.530" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.271" endtime="20231031 20:22:57.530"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:22:57.533" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'SGP', 'year': 2019, 'rate': 2.08609}</msg>
<status status="PASS" starttime="20231031 20:22:57.532" endtime="20231031 20:22:57.533"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:22:57.533" endtime="20231031 20:22:57.534"/>
</break>
<status status="PASS" starttime="20231031 20:22:57.531" endtime="20231031 20:22:57.534"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.531" endtime="20231031 20:22:57.534"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.271" endtime="20231031 20:22:57.534"/>
</iter>
<status status="PASS" starttime="20231031 20:22:57.270" endtime="20231031 20:22:57.535"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:57.535" endtime="20231031 20:22:57.535"/>
</return>
<msg timestamp="20231031 20:22:57.536" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:57.536" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.266" endtime="20231031 20:22:57.536"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:22:57.537" endtime="20231031 20:22:57.537"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:22:57.538" endtime="20231031 20:22:57.538"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:57.536" endtime="20231031 20:22:57.538"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.536" endtime="20231031 20:22:57.539"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.265" endtime="20231031 20:22:57.539"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.265" endtime="20231031 20:22:57.539"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.263" endtime="20231031 20:22:57.539"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.262" endtime="20231031 20:22:57.540"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.983" endtime="20231031 20:22:57.540"/>
</kw>
<status status="PASS" starttime="20231031 20:22:56.983" endtime="20231031 20:22:57.540"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:57.541" endtime="20231031 20:22:57.542"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:57.541" endtime="20231031 20:22:57.542"/>
</branch>
<status status="PASS" starttime="20231031 20:22:56.983" endtime="20231031 20:22:57.542"/>
</if>
<status status="PASS" starttime="20231031 20:22:56.911" endtime="20231031 20:22:57.542"/>
</kw>
<msg timestamp="20231031 20:22:57.543" level="INFO">Releasing item '4' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:57.545" level="INFO">${payload} = {'traffic_data': {'country': 'NOR', 'year': 2019, 'rate': 2.12302}}</msg>
<status status="PASS" starttime="20231031 20:22:57.544" endtime="20231031 20:22:57.545"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:57.547" level="INFO">${traffic_data} = {'country': 'NOR', 'year': 2019, 'rate': 2.12302}</msg>
<status status="PASS" starttime="20231031 20:22:57.546" endtime="20231031 20:22:57.547"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:57.550" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:57.580" level="INFO">${country} = NOR</msg>
<status status="PASS" starttime="20231031 20:22:57.548" endtime="20231031 20:22:57.580"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:57.581" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:57.581" endtime="20231031 20:22:57.581"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:57.582" endtime="20231031 20:22:57.582"/>
</return>
<msg timestamp="20231031 20:22:57.582" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:57.547" endtime="20231031 20:22:57.582"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:57.584" endtime="20231031 20:22:57.884"/>
</kw>
<msg timestamp="20231031 20:22:57.885" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:57.885" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.584" endtime="20231031 20:22:57.885"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:57.886" endtime="20231031 20:22:57.886"/>
</return>
<msg timestamp="20231031 20:22:57.886" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:57.887" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.583" endtime="20231031 20:22:57.887"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:57.892" level="INFO">Releasing item '5' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:57.890" endtime="20231031 20:22:57.893"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.889" endtime="20231031 20:22:57.893"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.888" endtime="20231031 20:22:57.893"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:57.894" endtime="20231031 20:22:57.894"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:57.893" endtime="20231031 20:22:57.894"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.888" endtime="20231031 20:22:57.894"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.887" endtime="20231031 20:22:57.895"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.583" endtime="20231031 20:22:57.895"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.582" endtime="20231031 20:22:57.895"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:57.896" endtime="20231031 20:22:57.896"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:57.895" endtime="20231031 20:22:57.896"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.582" endtime="20231031 20:22:57.897"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.543" endtime="20231031 20:22:57.897"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:57.898" level="INFO">${payload} = {'traffic_data': {'country': 'NLD', 'year': 2019, 'rate': 3.98313}}</msg>
<status status="PASS" starttime="20231031 20:22:57.898" endtime="20231031 20:22:57.899"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:57.900" level="INFO">${traffic_data} = {'country': 'NLD', 'year': 2019, 'rate': 3.98313}</msg>
<status status="PASS" starttime="20231031 20:22:57.899" endtime="20231031 20:22:57.900"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:57.904" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:57.940" level="INFO">${country} = NLD</msg>
<status status="PASS" starttime="20231031 20:22:57.901" endtime="20231031 20:22:57.940"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:57.942" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:57.941" endtime="20231031 20:22:57.942"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:57.942" endtime="20231031 20:22:57.943"/>
</return>
<msg timestamp="20231031 20:22:57.943" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:57.900" endtime="20231031 20:22:57.943"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:57.946" endtime="20231031 20:22:58.245"/>
</kw>
<msg timestamp="20231031 20:22:58.247" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:58.247" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.945" endtime="20231031 20:22:58.247"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:58.248" endtime="20231031 20:22:58.248"/>
</return>
<msg timestamp="20231031 20:22:58.249" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:58.249" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:57.945" endtime="20231031 20:22:58.249"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:58.254" level="INFO">Releasing item '6' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:58.252" endtime="20231031 20:22:58.254"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.251" endtime="20231031 20:22:58.255"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.251" endtime="20231031 20:22:58.255"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:58.256" endtime="20231031 20:22:58.256"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:58.255" endtime="20231031 20:22:58.257"/>
</branch>
<status status="PASS" starttime="20231031 20:22:58.251" endtime="20231031 20:22:58.257"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.250" endtime="20231031 20:22:58.257"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.944" endtime="20231031 20:22:58.258"/>
</kw>
<status status="PASS" starttime="20231031 20:22:57.943" endtime="20231031 20:22:58.258"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:58.259" endtime="20231031 20:22:58.259"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:58.258" endtime="20231031 20:22:58.260"/>
</branch>
<status status="PASS" starttime="20231031 20:22:57.943" endtime="20231031 20:22:58.260"/>
</if>
<status status="PASS" starttime="20231031 20:22:57.897" endtime="20231031 20:22:58.260"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:58.262" level="INFO">${payload} = {'traffic_data': {'country': 'MLT', 'year': 2019, 'rate': 4.10715}}</msg>
<status status="PASS" starttime="20231031 20:22:58.261" endtime="20231031 20:22:58.262"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:58.263" level="INFO">${traffic_data} = {'country': 'MLT', 'year': 2019, 'rate': 4.10715}</msg>
<status status="PASS" starttime="20231031 20:22:58.263" endtime="20231031 20:22:58.264"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:58.267" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:58.297" level="INFO">${country} = MLT</msg>
<status status="PASS" starttime="20231031 20:22:58.265" endtime="20231031 20:22:58.297"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:58.298" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:58.297" endtime="20231031 20:22:58.299"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:58.299" endtime="20231031 20:22:58.299"/>
</return>
<msg timestamp="20231031 20:22:58.299" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:58.264" endtime="20231031 20:22:58.300"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:58.302" endtime="20231031 20:22:58.605"/>
</kw>
<msg timestamp="20231031 20:22:58.607" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:58.607" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:58.301" endtime="20231031 20:22:58.607"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:58.608" endtime="20231031 20:22:58.608"/>
</return>
<msg timestamp="20231031 20:22:58.610" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:58.610" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:58.301" endtime="20231031 20:22:58.610"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:58.614" level="INFO">Releasing item '7' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:58.613" endtime="20231031 20:22:58.615"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.612" endtime="20231031 20:22:58.615"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.612" endtime="20231031 20:22:58.615"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:58.616" endtime="20231031 20:22:58.616"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:58.616" endtime="20231031 20:22:58.616"/>
</branch>
<status status="PASS" starttime="20231031 20:22:58.612" endtime="20231031 20:22:58.617"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.611" endtime="20231031 20:22:58.617"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.300" endtime="20231031 20:22:58.618"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.300" endtime="20231031 20:22:58.618"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:58.619" endtime="20231031 20:22:58.619"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:58.618" endtime="20231031 20:22:58.620"/>
</branch>
<status status="PASS" starttime="20231031 20:22:58.300" endtime="20231031 20:22:58.620"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.260" endtime="20231031 20:22:58.620"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:58.623" level="INFO">${payload} = {'traffic_data': {'country': 'MDV', 'year': 2019, 'rate': 1.6277}}</msg>
<status status="PASS" starttime="20231031 20:22:58.622" endtime="20231031 20:22:58.623"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:58.625" level="INFO">${traffic_data} = {'country': 'MDV', 'year': 2019, 'rate': 1.6277}</msg>
<status status="PASS" starttime="20231031 20:22:58.624" endtime="20231031 20:22:58.625"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:58.630" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:58.666" level="INFO">${country} = MDV</msg>
<status status="PASS" starttime="20231031 20:22:58.627" endtime="20231031 20:22:58.666"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:58.667" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:58.666" endtime="20231031 20:22:58.667"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:58.668" endtime="20231031 20:22:58.668"/>
</return>
<msg timestamp="20231031 20:22:58.668" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:58.626" endtime="20231031 20:22:58.668"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:22:58.968" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:22:58.671" endtime="20231031 20:22:58.968"/>
</kw>
<msg timestamp="20231031 20:22:58.969" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:58.970" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:58.670" endtime="20231031 20:22:58.970"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:58.971" endtime="20231031 20:22:58.971"/>
</return>
<msg timestamp="20231031 20:22:58.972" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:22:58.972" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:22:58.670" endtime="20231031 20:22:58.973"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:22:58.975" endtime="20231031 20:22:58.976"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:58.974" endtime="20231031 20:22:58.976"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:58.981" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:22:58.980" endtime="20231031 20:22:58.981"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:58.985" endtime="20231031 20:22:59.245"/>
</kw>
<msg timestamp="20231031 20:22:59.246" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.246" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:58.984" endtime="20231031 20:22:59.246"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:59.247" endtime="20231031 20:22:59.248"/>
</return>
<msg timestamp="20231031 20:22:59.249" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.249" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:58.983" endtime="20231031 20:22:59.249"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:22:59.252" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'MDV', 'year': 2019, 'rate': 1.6277}</msg>
<status status="PASS" starttime="20231031 20:22:59.250" endtime="20231031 20:22:59.252"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:22:59.252" endtime="20231031 20:22:59.253"/>
</break>
<status status="PASS" starttime="20231031 20:22:59.250" endtime="20231031 20:22:59.253"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.250" endtime="20231031 20:22:59.254"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.982" endtime="20231031 20:22:59.254"/>
</iter>
<status status="PASS" starttime="20231031 20:22:58.982" endtime="20231031 20:22:59.254"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:59.254" endtime="20231031 20:22:59.255"/>
</return>
<msg timestamp="20231031 20:22:59.255" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.256" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:58.978" endtime="20231031 20:22:59.256"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:22:59.258" endtime="20231031 20:22:59.258"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:22:59.259" endtime="20231031 20:22:59.259"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.257" endtime="20231031 20:22:59.259"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.257" endtime="20231031 20:22:59.260"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.977" endtime="20231031 20:22:59.260"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.977" endtime="20231031 20:22:59.260"/>
</branch>
<status status="PASS" starttime="20231031 20:22:58.974" endtime="20231031 20:22:59.261"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.973" endtime="20231031 20:22:59.261"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.669" endtime="20231031 20:22:59.261"/>
</kw>
<status status="PASS" starttime="20231031 20:22:58.669" endtime="20231031 20:22:59.261"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:59.262" endtime="20231031 20:22:59.263"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.262" endtime="20231031 20:22:59.263"/>
</branch>
<status status="PASS" starttime="20231031 20:22:58.668" endtime="20231031 20:22:59.263"/>
</if>
<status status="PASS" starttime="20231031 20:22:58.621" endtime="20231031 20:22:59.264"/>
</kw>
<msg timestamp="20231031 20:22:59.265" level="INFO">Releasing item '8' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:59.268" level="INFO">${payload} = {'traffic_data': {'country': 'LUX', 'year': 2019, 'rate': 4.07499}}</msg>
<status status="PASS" starttime="20231031 20:22:59.267" endtime="20231031 20:22:59.268"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:59.270" level="INFO">${traffic_data} = {'country': 'LUX', 'year': 2019, 'rate': 4.07499}</msg>
<status status="PASS" starttime="20231031 20:22:59.268" endtime="20231031 20:22:59.270"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:59.275" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:59.341" level="INFO">${country} = LUX</msg>
<status status="PASS" starttime="20231031 20:22:59.272" endtime="20231031 20:22:59.342"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:59.344" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:59.343" endtime="20231031 20:22:59.344"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:59.345" endtime="20231031 20:22:59.345"/>
</return>
<msg timestamp="20231031 20:22:59.346" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:59.271" endtime="20231031 20:22:59.346"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:59.357" endtime="20231031 20:22:59.606"/>
</kw>
<msg timestamp="20231031 20:22:59.606" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.606" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:59.356" endtime="20231031 20:22:59.606"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:59.607" endtime="20231031 20:22:59.607"/>
</return>
<msg timestamp="20231031 20:22:59.608" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.609" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:59.355" endtime="20231031 20:22:59.609"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:59.613" level="INFO">Releasing item '9' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:59.611" endtime="20231031 20:22:59.613"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.611" endtime="20231031 20:22:59.613"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.610" endtime="20231031 20:22:59.614"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:59.614" endtime="20231031 20:22:59.614"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.614" endtime="20231031 20:22:59.615"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.610" endtime="20231031 20:22:59.615"/>
</if>
<status status="PASS" starttime="20231031 20:22:59.609" endtime="20231031 20:22:59.615"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.354" endtime="20231031 20:22:59.615"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.353" endtime="20231031 20:22:59.615"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:59.616" endtime="20231031 20:22:59.616"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.616" endtime="20231031 20:22:59.616"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.353" endtime="20231031 20:22:59.617"/>
</if>
<status status="PASS" starttime="20231031 20:22:59.266" endtime="20231031 20:22:59.617"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:59.619" level="INFO">${payload} = {'traffic_data': {'country': 'LCA', 'year': 2008, 'rate': 3.52918}}</msg>
<status status="PASS" starttime="20231031 20:22:59.618" endtime="20231031 20:22:59.619"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:59.620" level="INFO">${traffic_data} = {'country': 'LCA', 'year': 2008, 'rate': 3.52918}</msg>
<status status="PASS" starttime="20231031 20:22:59.619" endtime="20231031 20:22:59.620"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:59.625" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:22:59.650" level="INFO">${country} = LCA</msg>
<status status="PASS" starttime="20231031 20:22:59.621" endtime="20231031 20:22:59.651"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:22:59.652" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:59.651" endtime="20231031 20:22:59.652"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:22:59.652" endtime="20231031 20:22:59.652"/>
</return>
<msg timestamp="20231031 20:22:59.652" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:59.620" endtime="20231031 20:22:59.653"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:22:59.654" endtime="20231031 20:22:59.959"/>
</kw>
<msg timestamp="20231031 20:22:59.959" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.960" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:59.654" endtime="20231031 20:22:59.960"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:22:59.960" endtime="20231031 20:22:59.961"/>
</return>
<msg timestamp="20231031 20:22:59.962" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:22:59.962" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:22:59.653" endtime="20231031 20:22:59.962"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:22:59.966" level="INFO">Releasing item '10' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:59.965" endtime="20231031 20:22:59.967"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.964" endtime="20231031 20:22:59.967"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.963" endtime="20231031 20:22:59.967"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:59.968" endtime="20231031 20:22:59.968"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.968" endtime="20231031 20:22:59.968"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.963" endtime="20231031 20:22:59.969"/>
</if>
<status status="PASS" starttime="20231031 20:22:59.962" endtime="20231031 20:22:59.969"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.653" endtime="20231031 20:22:59.969"/>
</kw>
<status status="PASS" starttime="20231031 20:22:59.653" endtime="20231031 20:22:59.969"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:22:59.970" endtime="20231031 20:22:59.971"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:22:59.970" endtime="20231031 20:22:59.971"/>
</branch>
<status status="PASS" starttime="20231031 20:22:59.653" endtime="20231031 20:22:59.971"/>
</if>
<status status="PASS" starttime="20231031 20:22:59.617" endtime="20231031 20:22:59.971"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:22:59.973" level="INFO">${payload} = {'traffic_data': {'country': 'KIR', 'year': 2019, 'rate': 1.92481}}</msg>
<status status="PASS" starttime="20231031 20:22:59.973" endtime="20231031 20:22:59.974"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:22:59.975" level="INFO">${traffic_data} = {'country': 'KIR', 'year': 2019, 'rate': 1.92481}</msg>
<status status="PASS" starttime="20231031 20:22:59.974" endtime="20231031 20:22:59.975"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:22:59.978" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:00.014" level="INFO">${country} = KIR</msg>
<status status="PASS" starttime="20231031 20:22:59.976" endtime="20231031 20:23:00.015"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:00.017" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:00.015" endtime="20231031 20:23:00.017"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:00.017" endtime="20231031 20:23:00.018"/>
</return>
<msg timestamp="20231031 20:23:00.019" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:22:59.975" endtime="20231031 20:23:00.019"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:00.316" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:00.033" endtime="20231031 20:23:00.317"/>
</kw>
<msg timestamp="20231031 20:23:00.318" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:00.318" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:00.032" endtime="20231031 20:23:00.318"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:00.319" endtime="20231031 20:23:00.319"/>
</return>
<msg timestamp="20231031 20:23:00.321" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:00.321" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:00.031" endtime="20231031 20:23:00.321"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:00.324" endtime="20231031 20:23:00.324"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:00.323" endtime="20231031 20:23:00.324"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:00.327" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:00.327" endtime="20231031 20:23:00.328"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:00.331" endtime="20231031 20:23:00.587"/>
</kw>
<msg timestamp="20231031 20:23:00.587" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:00.588" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.330" endtime="20231031 20:23:00.588"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:00.588" endtime="20231031 20:23:00.589"/>
</return>
<msg timestamp="20231031 20:23:00.589" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:00.590" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.329" endtime="20231031 20:23:00.590"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:00.592" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'KIR', 'year': 2019, 'rate': 1.92481}</msg>
<status status="PASS" starttime="20231031 20:23:00.591" endtime="20231031 20:23:00.593"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:00.593" endtime="20231031 20:23:00.593"/>
</break>
<status status="PASS" starttime="20231031 20:23:00.590" endtime="20231031 20:23:00.593"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.590" endtime="20231031 20:23:00.594"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.329" endtime="20231031 20:23:00.594"/>
</iter>
<status status="PASS" starttime="20231031 20:23:00.328" endtime="20231031 20:23:00.594"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:00.594" endtime="20231031 20:23:00.595"/>
</return>
<msg timestamp="20231031 20:23:00.595" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:00.596" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.326" endtime="20231031 20:23:00.596"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:00.597" endtime="20231031 20:23:00.597"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:00.597" endtime="20231031 20:23:00.598"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:00.596" endtime="20231031 20:23:00.598"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.596" endtime="20231031 20:23:00.599"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.325" endtime="20231031 20:23:00.599"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.325" endtime="20231031 20:23:00.599"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.323" endtime="20231031 20:23:00.600"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.322" endtime="20231031 20:23:00.600"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.030" endtime="20231031 20:23:00.600"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.019" endtime="20231031 20:23:00.600"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:00.601" endtime="20231031 20:23:00.601"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:00.601" endtime="20231031 20:23:00.602"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.019" endtime="20231031 20:23:00.602"/>
</if>
<status status="PASS" starttime="20231031 20:22:59.972" endtime="20231031 20:23:00.602"/>
</kw>
<msg timestamp="20231031 20:23:00.602" level="INFO">Releasing item '11' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:00.604" level="INFO">${payload} = {'traffic_data': {'country': 'JPN', 'year': 2019, 'rate': 3.59908}}</msg>
<status status="PASS" starttime="20231031 20:23:00.604" endtime="20231031 20:23:00.604"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:00.605" level="INFO">${traffic_data} = {'country': 'JPN', 'year': 2019, 'rate': 3.59908}</msg>
<status status="PASS" starttime="20231031 20:23:00.605" endtime="20231031 20:23:00.606"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:00.609" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:00.645" level="INFO">${country} = JPN</msg>
<status status="PASS" starttime="20231031 20:23:00.607" endtime="20231031 20:23:00.645"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:00.647" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:00.646" endtime="20231031 20:23:00.647"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:00.647" endtime="20231031 20:23:00.647"/>
</return>
<msg timestamp="20231031 20:23:00.648" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:00.606" endtime="20231031 20:23:00.648"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:00.946" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:00.652" endtime="20231031 20:23:00.947"/>
</kw>
<msg timestamp="20231031 20:23:00.947" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:00.947" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:00.651" endtime="20231031 20:23:00.947"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:00.948" endtime="20231031 20:23:00.948"/>
</return>
<msg timestamp="20231031 20:23:00.949" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:00.949" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:00.650" endtime="20231031 20:23:00.949"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:00.951" endtime="20231031 20:23:00.952"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:00.951" endtime="20231031 20:23:00.952"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:00.955" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:00.954" endtime="20231031 20:23:00.955"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:00.958" endtime="20231031 20:23:01.215"/>
</kw>
<msg timestamp="20231031 20:23:01.216" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.216" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.958" endtime="20231031 20:23:01.216"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:01.216" endtime="20231031 20:23:01.216"/>
</return>
<msg timestamp="20231031 20:23:01.217" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.217" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.957" endtime="20231031 20:23:01.217"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:01.218" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'JPN', 'year': 2019, 'rate': 3.59908}</msg>
<status status="PASS" starttime="20231031 20:23:01.217" endtime="20231031 20:23:01.218"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:01.218" endtime="20231031 20:23:01.218"/>
</break>
<status status="PASS" starttime="20231031 20:23:01.217" endtime="20231031 20:23:01.219"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.217" endtime="20231031 20:23:01.219"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.956" endtime="20231031 20:23:01.219"/>
</iter>
<status status="PASS" starttime="20231031 20:23:00.956" endtime="20231031 20:23:01.219"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:01.219" endtime="20231031 20:23:01.219"/>
</return>
<msg timestamp="20231031 20:23:01.219" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.220" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:00.954" endtime="20231031 20:23:01.220"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:01.220" endtime="20231031 20:23:01.220"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:01.221" endtime="20231031 20:23:01.221"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.220" endtime="20231031 20:23:01.221"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.220" endtime="20231031 20:23:01.221"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.953" endtime="20231031 20:23:01.221"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.952" endtime="20231031 20:23:01.221"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.951" endtime="20231031 20:23:01.222"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.950" endtime="20231031 20:23:01.222"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.649" endtime="20231031 20:23:01.222"/>
</kw>
<status status="PASS" starttime="20231031 20:23:00.648" endtime="20231031 20:23:01.222"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:01.222" endtime="20231031 20:23:01.223"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.222" endtime="20231031 20:23:01.223"/>
</branch>
<status status="PASS" starttime="20231031 20:23:00.648" endtime="20231031 20:23:01.223"/>
</if>
<status status="PASS" starttime="20231031 20:23:00.603" endtime="20231031 20:23:01.223"/>
</kw>
<msg timestamp="20231031 20:23:01.223" level="INFO">Releasing item '12' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:01.224" level="INFO">${payload} = {'traffic_data': {'country': 'ISR', 'year': 2019, 'rate': 3.90874}}</msg>
<status status="PASS" starttime="20231031 20:23:01.224" endtime="20231031 20:23:01.224"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:01.225" level="INFO">${traffic_data} = {'country': 'ISR', 'year': 2019, 'rate': 3.90874}</msg>
<status status="PASS" starttime="20231031 20:23:01.224" endtime="20231031 20:23:01.225"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:01.227" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:01.245" level="INFO">${country} = ISR</msg>
<status status="PASS" starttime="20231031 20:23:01.226" endtime="20231031 20:23:01.245"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:01.246" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.246" endtime="20231031 20:23:01.247"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:01.247" endtime="20231031 20:23:01.247"/>
</return>
<msg timestamp="20231031 20:23:01.247" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.225" endtime="20231031 20:23:01.247"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:01.249" endtime="20231031 20:23:01.486"/>
</kw>
<msg timestamp="20231031 20:23:01.487" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.487" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.248" endtime="20231031 20:23:01.487"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:01.487" endtime="20231031 20:23:01.488"/>
</return>
<msg timestamp="20231031 20:23:01.488" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.489" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.248" endtime="20231031 20:23:01.489"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:01.493" level="INFO">Releasing item '13' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:01.492" endtime="20231031 20:23:01.493"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.491" endtime="20231031 20:23:01.494"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.490" endtime="20231031 20:23:01.494"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:01.495" endtime="20231031 20:23:01.495"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.495" endtime="20231031 20:23:01.496"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.490" endtime="20231031 20:23:01.496"/>
</if>
<status status="PASS" starttime="20231031 20:23:01.489" endtime="20231031 20:23:01.496"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.248" endtime="20231031 20:23:01.496"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.247" endtime="20231031 20:23:01.496"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:01.497" endtime="20231031 20:23:01.497"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.497" endtime="20231031 20:23:01.498"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.247" endtime="20231031 20:23:01.498"/>
</if>
<status status="PASS" starttime="20231031 20:23:01.223" endtime="20231031 20:23:01.498"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:01.500" level="INFO">${payload} = {'traffic_data': {'country': 'ISL', 'year': 2019, 'rate': 2.04915}}</msg>
<status status="PASS" starttime="20231031 20:23:01.500" endtime="20231031 20:23:01.500"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:01.501" level="INFO">${traffic_data} = {'country': 'ISL', 'year': 2019, 'rate': 2.04915}</msg>
<status status="PASS" starttime="20231031 20:23:01.501" endtime="20231031 20:23:01.502"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:01.505" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:01.555" level="INFO">${country} = ISL</msg>
<status status="PASS" starttime="20231031 20:23:01.503" endtime="20231031 20:23:01.555"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:01.557" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.556" endtime="20231031 20:23:01.557"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:01.557" endtime="20231031 20:23:01.557"/>
</return>
<msg timestamp="20231031 20:23:01.558" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.502" endtime="20231031 20:23:01.558"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:01.565" endtime="20231031 20:23:01.846"/>
</kw>
<msg timestamp="20231031 20:23:01.847" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.848" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.560" endtime="20231031 20:23:01.848"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:01.848" endtime="20231031 20:23:01.849"/>
</return>
<msg timestamp="20231031 20:23:01.850" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:01.850" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.559" endtime="20231031 20:23:01.850"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:01.855" level="INFO">Releasing item '14' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:01.853" endtime="20231031 20:23:01.855"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.852" endtime="20231031 20:23:01.856"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.852" endtime="20231031 20:23:01.856"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:01.857" endtime="20231031 20:23:01.857"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.856" endtime="20231031 20:23:01.857"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.852" endtime="20231031 20:23:01.858"/>
</if>
<status status="PASS" starttime="20231031 20:23:01.851" endtime="20231031 20:23:01.858"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.558" endtime="20231031 20:23:01.858"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.558" endtime="20231031 20:23:01.858"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:01.859" endtime="20231031 20:23:01.859"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:01.859" endtime="20231031 20:23:01.860"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.558" endtime="20231031 20:23:01.860"/>
</if>
<status status="PASS" starttime="20231031 20:23:01.499" endtime="20231031 20:23:01.860"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:01.862" level="INFO">${payload} = {'traffic_data': {'country': 'IRL', 'year': 2019, 'rate': 3.13364}}</msg>
<status status="PASS" starttime="20231031 20:23:01.862" endtime="20231031 20:23:01.862"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:01.863" level="INFO">${traffic_data} = {'country': 'IRL', 'year': 2019, 'rate': 3.13364}</msg>
<status status="PASS" starttime="20231031 20:23:01.863" endtime="20231031 20:23:01.864"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:01.867" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:01.903" level="INFO">${country} = IRL</msg>
<status status="PASS" starttime="20231031 20:23:01.865" endtime="20231031 20:23:01.903"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:01.904" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.903" endtime="20231031 20:23:01.904"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:01.905" endtime="20231031 20:23:01.905"/>
</return>
<msg timestamp="20231031 20:23:01.905" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:01.864" endtime="20231031 20:23:01.905"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:01.907" endtime="20231031 20:23:02.791"/>
</kw>
<msg timestamp="20231031 20:23:02.792" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:02.792" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.907" endtime="20231031 20:23:02.793"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:02.793" endtime="20231031 20:23:02.794"/>
</return>
<msg timestamp="20231031 20:23:02.795" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:02.795" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:01.906" endtime="20231031 20:23:02.795"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:02.800" level="INFO">Releasing item '15' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:02.798" endtime="20231031 20:23:02.800"/>
</kw>
<status status="PASS" starttime="20231031 20:23:02.797" endtime="20231031 20:23:02.800"/>
</kw>
<status status="PASS" starttime="20231031 20:23:02.796" endtime="20231031 20:23:02.801"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:02.801" endtime="20231031 20:23:02.801"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:02.801" endtime="20231031 20:23:02.802"/>
</branch>
<status status="PASS" starttime="20231031 20:23:02.796" endtime="20231031 20:23:02.802"/>
</if>
<status status="PASS" starttime="20231031 20:23:02.796" endtime="20231031 20:23:02.802"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.906" endtime="20231031 20:23:02.802"/>
</kw>
<status status="PASS" starttime="20231031 20:23:01.906" endtime="20231031 20:23:02.803"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:02.804" endtime="20231031 20:23:02.804"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:02.803" endtime="20231031 20:23:02.805"/>
</branch>
<status status="PASS" starttime="20231031 20:23:01.905" endtime="20231031 20:23:02.805"/>
</if>
<status status="PASS" starttime="20231031 20:23:01.861" endtime="20231031 20:23:02.805"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:02.808" level="INFO">${payload} = {'traffic_data': {'country': 'GTM', 'year': 2006, 'rate': 4.61297}}</msg>
<status status="PASS" starttime="20231031 20:23:02.807" endtime="20231031 20:23:02.808"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:02.809" level="INFO">${traffic_data} = {'country': 'GTM', 'year': 2006, 'rate': 4.61297}</msg>
<status status="PASS" starttime="20231031 20:23:02.808" endtime="20231031 20:23:02.809"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:02.813" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:02.841" level="INFO">${country} = GTM</msg>
<status status="PASS" starttime="20231031 20:23:02.810" endtime="20231031 20:23:02.841"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:02.842" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:02.841" endtime="20231031 20:23:02.842"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:02.842" endtime="20231031 20:23:02.843"/>
</return>
<msg timestamp="20231031 20:23:02.843" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:02.810" endtime="20231031 20:23:02.843"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:03.055" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:02.845" endtime="20231031 20:23:03.056"/>
</kw>
<msg timestamp="20231031 20:23:03.057" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:03.057" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:02.845" endtime="20231031 20:23:03.057"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:03.058" endtime="20231031 20:23:03.058"/>
</return>
<msg timestamp="20231031 20:23:03.059" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:03.059" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:02.844" endtime="20231031 20:23:03.059"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:03.062" endtime="20231031 20:23:03.062"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:03.061" endtime="20231031 20:23:03.062"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:03.065" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:03.064" endtime="20231031 20:23:03.065"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:03.316" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:03.069" endtime="20231031 20:23:03.316"/>
</kw>
<msg timestamp="20231031 20:23:03.317" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:03.317" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:03.068" endtime="20231031 20:23:03.317"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:03.318" endtime="20231031 20:23:03.319"/>
</return>
<msg timestamp="20231031 20:23:03.319" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:03.320" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:03.067" endtime="20231031 20:23:03.320"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:03.321" endtime="20231031 20:23:03.322"/>
</kw>
<break>
<status status="NOT RUN" starttime="20231031 20:23:03.322" endtime="20231031 20:23:03.322"/>
</break>
<status status="NOT RUN" starttime="20231031 20:23:03.320" endtime="20231031 20:23:03.323"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.320" endtime="20231031 20:23:03.323"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.066" endtime="20231031 20:23:03.323"/>
</iter>
<iter>
<var name="${i}">1</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:03.326" endtime="20231031 20:23:03.577"/>
</kw>
<msg timestamp="20231031 20:23:03.578" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:03.578" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.325" endtime="20231031 20:23:03.578"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:03.579" endtime="20231031 20:23:03.579"/>
</return>
<msg timestamp="20231031 20:23:03.580" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:03.580" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.324" endtime="20231031 20:23:03.580"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:03.582" level="INFO">Reprocessed successfully after 2 attempts: {'country': 'GTM', 'year': 2006, 'rate': 4.61297}</msg>
<status status="PASS" starttime="20231031 20:23:03.581" endtime="20231031 20:23:03.582"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:03.583" endtime="20231031 20:23:03.583"/>
</break>
<status status="PASS" starttime="20231031 20:23:03.580" endtime="20231031 20:23:03.583"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.580" endtime="20231031 20:23:03.584"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.324" endtime="20231031 20:23:03.584"/>
</iter>
<status status="PASS" starttime="20231031 20:23:03.066" endtime="20231031 20:23:03.584"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:03.584" endtime="20231031 20:23:03.585"/>
</return>
<msg timestamp="20231031 20:23:03.586" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:03.586" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.064" endtime="20231031 20:23:03.586"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:03.587" endtime="20231031 20:23:03.587"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:03.587" endtime="20231031 20:23:03.588"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:03.586" endtime="20231031 20:23:03.588"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.586" endtime="20231031 20:23:03.588"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.063" endtime="20231031 20:23:03.588"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.062" endtime="20231031 20:23:03.589"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.061" endtime="20231031 20:23:03.589"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.060" endtime="20231031 20:23:03.589"/>
</kw>
<status status="PASS" starttime="20231031 20:23:02.844" endtime="20231031 20:23:03.590"/>
</kw>
<status status="PASS" starttime="20231031 20:23:02.843" endtime="20231031 20:23:03.590"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:03.591" endtime="20231031 20:23:03.591"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:03.590" endtime="20231031 20:23:03.591"/>
</branch>
<status status="PASS" starttime="20231031 20:23:02.843" endtime="20231031 20:23:03.591"/>
</if>
<status status="PASS" starttime="20231031 20:23:02.806" endtime="20231031 20:23:03.592"/>
</kw>
<msg timestamp="20231031 20:23:03.592" level="INFO">Releasing item '16' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:03.594" level="INFO">${payload} = {'traffic_data': {'country': 'GRD', 'year': 2014, 'rate': 4.59137}}</msg>
<status status="PASS" starttime="20231031 20:23:03.593" endtime="20231031 20:23:03.594"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:03.595" level="INFO">${traffic_data} = {'country': 'GRD', 'year': 2014, 'rate': 4.59137}</msg>
<status status="PASS" starttime="20231031 20:23:03.594" endtime="20231031 20:23:03.595"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:03.599" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:03.641" level="INFO">${country} = GRD</msg>
<status status="PASS" starttime="20231031 20:23:03.597" endtime="20231031 20:23:03.641"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:03.643" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:03.642" endtime="20231031 20:23:03.643"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:03.643" endtime="20231031 20:23:03.643"/>
</return>
<msg timestamp="20231031 20:23:03.644" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:03.596" endtime="20231031 20:23:03.644"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:03.646" endtime="20231031 20:23:03.932"/>
</kw>
<msg timestamp="20231031 20:23:03.933" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:03.933" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.645" endtime="20231031 20:23:03.933"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:03.933" endtime="20231031 20:23:03.934"/>
</return>
<msg timestamp="20231031 20:23:03.935" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:03.935" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.645" endtime="20231031 20:23:03.935"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:03.939" level="INFO">Releasing item '17' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:03.938" endtime="20231031 20:23:03.940"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.937" endtime="20231031 20:23:03.940"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.936" endtime="20231031 20:23:03.941"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:03.941" endtime="20231031 20:23:03.942"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:03.941" endtime="20231031 20:23:03.942"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.936" endtime="20231031 20:23:03.942"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.935" endtime="20231031 20:23:03.942"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.644" endtime="20231031 20:23:03.943"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.644" endtime="20231031 20:23:03.943"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:03.943" endtime="20231031 20:23:03.944"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:03.943" endtime="20231031 20:23:03.944"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.644" endtime="20231031 20:23:03.944"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.592" endtime="20231031 20:23:03.944"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:03.946" level="INFO">${payload} = {'traffic_data': {'country': 'GBR', 'year': 2019, 'rate': 3.21187}}</msg>
<status status="PASS" starttime="20231031 20:23:03.946" endtime="20231031 20:23:03.946"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:03.948" level="INFO">${traffic_data} = {'country': 'GBR', 'year': 2019, 'rate': 3.21187}</msg>
<status status="PASS" starttime="20231031 20:23:03.947" endtime="20231031 20:23:03.948"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:03.952" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:03.986" level="INFO">${country} = GBR</msg>
<status status="PASS" starttime="20231031 20:23:03.949" endtime="20231031 20:23:03.986"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:03.988" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:03.987" endtime="20231031 20:23:03.988"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:03.989" endtime="20231031 20:23:03.989"/>
</return>
<msg timestamp="20231031 20:23:03.989" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:03.948" endtime="20231031 20:23:03.990"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:03.993" endtime="20231031 20:23:04.292"/>
</kw>
<msg timestamp="20231031 20:23:04.293" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:04.293" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.992" endtime="20231031 20:23:04.294"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:04.294" endtime="20231031 20:23:04.294"/>
</return>
<msg timestamp="20231031 20:23:04.295" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:04.295" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:03.991" endtime="20231031 20:23:04.295"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:04.300" level="INFO">Releasing item '18' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:04.299" endtime="20231031 20:23:04.300"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.298" endtime="20231031 20:23:04.301"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.297" endtime="20231031 20:23:04.301"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:04.301" endtime="20231031 20:23:04.302"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:04.301" endtime="20231031 20:23:04.302"/>
</branch>
<status status="PASS" starttime="20231031 20:23:04.297" endtime="20231031 20:23:04.302"/>
</if>
<status status="PASS" starttime="20231031 20:23:04.296" endtime="20231031 20:23:04.302"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.990" endtime="20231031 20:23:04.303"/>
</kw>
<status status="PASS" starttime="20231031 20:23:03.990" endtime="20231031 20:23:04.303"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:04.304" endtime="20231031 20:23:04.304"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:04.303" endtime="20231031 20:23:04.305"/>
</branch>
<status status="PASS" starttime="20231031 20:23:03.990" endtime="20231031 20:23:04.305"/>
</if>
<status status="PASS" starttime="20231031 20:23:03.944" endtime="20231031 20:23:04.305"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:04.307" level="INFO">${payload} = {'traffic_data': {'country': 'FSM', 'year': 2019, 'rate': 0.15972}}</msg>
<status status="PASS" starttime="20231031 20:23:04.306" endtime="20231031 20:23:04.307"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:04.309" level="INFO">${traffic_data} = {'country': 'FSM', 'year': 2019, 'rate': 0.15972}</msg>
<status status="PASS" starttime="20231031 20:23:04.308" endtime="20231031 20:23:04.309"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:04.312" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:04.351" level="INFO">${country} = FSM</msg>
<status status="PASS" starttime="20231031 20:23:04.310" endtime="20231031 20:23:04.351"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:04.352" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:04.351" endtime="20231031 20:23:04.352"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:04.352" endtime="20231031 20:23:04.353"/>
</return>
<msg timestamp="20231031 20:23:04.353" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:04.309" endtime="20231031 20:23:04.353"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:04.356" endtime="20231031 20:23:04.653"/>
</kw>
<msg timestamp="20231031 20:23:04.654" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:04.654" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:04.355" endtime="20231031 20:23:04.654"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:04.655" endtime="20231031 20:23:04.655"/>
</return>
<msg timestamp="20231031 20:23:04.656" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:04.656" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:04.354" endtime="20231031 20:23:04.656"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:04.660" level="INFO">Releasing item '19' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:04.658" endtime="20231031 20:23:04.660"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.658" endtime="20231031 20:23:04.661"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.657" endtime="20231031 20:23:04.661"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:04.662" endtime="20231031 20:23:04.662"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:04.661" endtime="20231031 20:23:04.662"/>
</branch>
<status status="PASS" starttime="20231031 20:23:04.657" endtime="20231031 20:23:04.662"/>
</if>
<status status="PASS" starttime="20231031 20:23:04.656" endtime="20231031 20:23:04.663"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.354" endtime="20231031 20:23:04.663"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.354" endtime="20231031 20:23:04.663"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:04.664" endtime="20231031 20:23:04.665"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:04.664" endtime="20231031 20:23:04.665"/>
</branch>
<status status="PASS" starttime="20231031 20:23:04.353" endtime="20231031 20:23:04.665"/>
</if>
<status status="PASS" starttime="20231031 20:23:04.306" endtime="20231031 20:23:04.665"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:04.668" level="INFO">${payload} = {'traffic_data': {'country': 'FIN', 'year': 2019, 'rate': 3.88637}}</msg>
<status status="PASS" starttime="20231031 20:23:04.667" endtime="20231031 20:23:04.668"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:04.669" level="INFO">${traffic_data} = {'country': 'FIN', 'year': 2019, 'rate': 3.88637}</msg>
<status status="PASS" starttime="20231031 20:23:04.668" endtime="20231031 20:23:04.669"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:04.673" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:04.708" level="INFO">${country} = FIN</msg>
<status status="PASS" starttime="20231031 20:23:04.671" endtime="20231031 20:23:04.708"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:04.709" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:04.708" endtime="20231031 20:23:04.710"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:04.710" endtime="20231031 20:23:04.710"/>
</return>
<msg timestamp="20231031 20:23:04.710" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:04.670" endtime="20231031 20:23:04.711"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:04.713" endtime="20231031 20:23:05.012"/>
</kw>
<msg timestamp="20231031 20:23:05.012" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.013" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:04.713" endtime="20231031 20:23:05.013"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:05.014" endtime="20231031 20:23:05.014"/>
</return>
<msg timestamp="20231031 20:23:05.014" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.015" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:04.712" endtime="20231031 20:23:05.015"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:05.020" level="INFO">Releasing item '20' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:05.019" endtime="20231031 20:23:05.021"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.018" endtime="20231031 20:23:05.021"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.017" endtime="20231031 20:23:05.021"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.022" endtime="20231031 20:23:05.022"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.022" endtime="20231031 20:23:05.022"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.017" endtime="20231031 20:23:05.023"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.016" endtime="20231031 20:23:05.023"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.711" endtime="20231031 20:23:05.023"/>
</kw>
<status status="PASS" starttime="20231031 20:23:04.711" endtime="20231031 20:23:05.023"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.024" endtime="20231031 20:23:05.024"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.023" endtime="20231031 20:23:05.024"/>
</branch>
<status status="PASS" starttime="20231031 20:23:04.711" endtime="20231031 20:23:05.025"/>
</if>
<status status="PASS" starttime="20231031 20:23:04.666" endtime="20231031 20:23:05.025"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:05.026" level="INFO">${payload} = {'traffic_data': {'country': 'EST', 'year': 2019, 'rate': 4.46408}}</msg>
<status status="PASS" starttime="20231031 20:23:05.026" endtime="20231031 20:23:05.027"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:05.028" level="INFO">${traffic_data} = {'country': 'EST', 'year': 2019, 'rate': 4.46408}</msg>
<status status="PASS" starttime="20231031 20:23:05.027" endtime="20231031 20:23:05.028"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:05.032" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:05.067" level="INFO">${country} = EST</msg>
<status status="PASS" starttime="20231031 20:23:05.029" endtime="20231031 20:23:05.068"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:05.070" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.069" endtime="20231031 20:23:05.070"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:05.070" endtime="20231031 20:23:05.071"/>
</return>
<msg timestamp="20231031 20:23:05.071" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.028" endtime="20231031 20:23:05.071"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:05.074" endtime="20231031 20:23:05.375"/>
</kw>
<msg timestamp="20231031 20:23:05.376" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.376" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:05.073" endtime="20231031 20:23:05.376"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:05.377" endtime="20231031 20:23:05.377"/>
</return>
<msg timestamp="20231031 20:23:05.379" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.379" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:05.073" endtime="20231031 20:23:05.380"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:05.385" level="INFO">Releasing item '21' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:05.384" endtime="20231031 20:23:05.386"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.383" endtime="20231031 20:23:05.387"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.382" endtime="20231031 20:23:05.387"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.388" endtime="20231031 20:23:05.388"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.387" endtime="20231031 20:23:05.389"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.382" endtime="20231031 20:23:05.389"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.380" endtime="20231031 20:23:05.389"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.072" endtime="20231031 20:23:05.390"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.071" endtime="20231031 20:23:05.390"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.391" endtime="20231031 20:23:05.391"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.390" endtime="20231031 20:23:05.392"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.071" endtime="20231031 20:23:05.392"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.025" endtime="20231031 20:23:05.392"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:05.394" level="INFO">${payload} = {'traffic_data': {'country': 'ESP', 'year': 2019, 'rate': 3.91405}}</msg>
<status status="PASS" starttime="20231031 20:23:05.394" endtime="20231031 20:23:05.395"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:05.396" level="INFO">${traffic_data} = {'country': 'ESP', 'year': 2019, 'rate': 3.91405}</msg>
<status status="PASS" starttime="20231031 20:23:05.395" endtime="20231031 20:23:05.397"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:05.401" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:05.432" level="INFO">${country} = ESP</msg>
<status status="PASS" starttime="20231031 20:23:05.398" endtime="20231031 20:23:05.433"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:05.435" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.434" endtime="20231031 20:23:05.435"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:05.436" endtime="20231031 20:23:05.436"/>
</return>
<msg timestamp="20231031 20:23:05.436" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.397" endtime="20231031 20:23:05.436"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:05.438" endtime="20231031 20:23:05.664"/>
</kw>
<msg timestamp="20231031 20:23:05.664" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.664" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:05.438" endtime="20231031 20:23:05.665"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:05.666" endtime="20231031 20:23:05.666"/>
</return>
<msg timestamp="20231031 20:23:05.666" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:05.667" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:05.437" endtime="20231031 20:23:05.667"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:05.672" level="INFO">Releasing item '22' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:05.670" endtime="20231031 20:23:05.673"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.669" endtime="20231031 20:23:05.673"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.668" endtime="20231031 20:23:05.673"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.674" endtime="20231031 20:23:05.675"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.674" endtime="20231031 20:23:05.675"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.668" endtime="20231031 20:23:05.675"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.667" endtime="20231031 20:23:05.675"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.437" endtime="20231031 20:23:05.676"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.436" endtime="20231031 20:23:05.676"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:05.677" endtime="20231031 20:23:05.677"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:05.676" endtime="20231031 20:23:05.677"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.436" endtime="20231031 20:23:05.677"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.393" endtime="20231031 20:23:05.677"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:05.679" level="INFO">${payload} = {'traffic_data': {'country': 'DNK', 'year': 2019, 'rate': 3.69833}}</msg>
<status status="PASS" starttime="20231031 20:23:05.679" endtime="20231031 20:23:05.679"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:05.680" level="INFO">${traffic_data} = {'country': 'DNK', 'year': 2019, 'rate': 3.69833}</msg>
<status status="PASS" starttime="20231031 20:23:05.680" endtime="20231031 20:23:05.681"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:05.684" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:05.716" level="INFO">${country} = DNK</msg>
<status status="PASS" starttime="20231031 20:23:05.682" endtime="20231031 20:23:05.716"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:05.717" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.716" endtime="20231031 20:23:05.717"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:05.717" endtime="20231031 20:23:05.717"/>
</return>
<msg timestamp="20231031 20:23:05.717" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:05.681" endtime="20231031 20:23:05.717"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:06.002" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:05.719" endtime="20231031 20:23:06.003"/>
</kw>
<msg timestamp="20231031 20:23:06.003" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:06.003" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:05.718" endtime="20231031 20:23:06.004"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.004" endtime="20231031 20:23:06.004"/>
</return>
<msg timestamp="20231031 20:23:06.007" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:06.008" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:05.718" endtime="20231031 20:23:06.008"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:06.011" endtime="20231031 20:23:06.011"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.010" endtime="20231031 20:23:06.011"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:06.014" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:06.013" endtime="20231031 20:23:06.014"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:06.018" endtime="20231031 20:23:06.276"/>
</kw>
<msg timestamp="20231031 20:23:06.277" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.277" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.017" endtime="20231031 20:23:06.277"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.278" endtime="20231031 20:23:06.278"/>
</return>
<msg timestamp="20231031 20:23:06.279" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.279" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.016" endtime="20231031 20:23:06.279"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:06.281" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'DNK', 'year': 2019, 'rate': 3.69833}</msg>
<status status="PASS" starttime="20231031 20:23:06.280" endtime="20231031 20:23:06.282"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:06.283" endtime="20231031 20:23:06.283"/>
</break>
<status status="PASS" starttime="20231031 20:23:06.279" endtime="20231031 20:23:06.283"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.279" endtime="20231031 20:23:06.283"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.015" endtime="20231031 20:23:06.284"/>
</iter>
<status status="PASS" starttime="20231031 20:23:06.015" endtime="20231031 20:23:06.284"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.284" endtime="20231031 20:23:06.285"/>
</return>
<msg timestamp="20231031 20:23:06.285" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.286" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.012" endtime="20231031 20:23:06.286"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:06.287" endtime="20231031 20:23:06.288"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:06.289" endtime="20231031 20:23:06.289"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.286" endtime="20231031 20:23:06.290"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.286" endtime="20231031 20:23:06.290"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.012" endtime="20231031 20:23:06.290"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.011" endtime="20231031 20:23:06.290"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.010" endtime="20231031 20:23:06.291"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.009" endtime="20231031 20:23:06.291"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.718" endtime="20231031 20:23:06.291"/>
</kw>
<status status="PASS" starttime="20231031 20:23:05.717" endtime="20231031 20:23:06.291"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:06.292" endtime="20231031 20:23:06.292"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.291" endtime="20231031 20:23:06.292"/>
</branch>
<status status="PASS" starttime="20231031 20:23:05.717" endtime="20231031 20:23:06.293"/>
</if>
<status status="PASS" starttime="20231031 20:23:05.678" endtime="20231031 20:23:06.293"/>
</kw>
<msg timestamp="20231031 20:23:06.293" level="INFO">Releasing item '23' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:06.295" level="INFO">${payload} = {'traffic_data': {'country': 'DEU', 'year': 2019, 'rate': 3.78353}}</msg>
<status status="PASS" starttime="20231031 20:23:06.294" endtime="20231031 20:23:06.295"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:06.296" level="INFO">${traffic_data} = {'country': 'DEU', 'year': 2019, 'rate': 3.78353}</msg>
<status status="PASS" starttime="20231031 20:23:06.296" endtime="20231031 20:23:06.297"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:06.299" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:06.315" level="INFO">${country} = DEU</msg>
<status status="PASS" starttime="20231031 20:23:06.298" endtime="20231031 20:23:06.315"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:06.316" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:06.316" endtime="20231031 20:23:06.316"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:06.316" endtime="20231031 20:23:06.317"/>
</return>
<msg timestamp="20231031 20:23:06.317" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:06.297" endtime="20231031 20:23:06.317"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:06.631" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:06.320" endtime="20231031 20:23:06.632"/>
</kw>
<msg timestamp="20231031 20:23:06.632" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:06.633" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:06.319" endtime="20231031 20:23:06.633"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.633" endtime="20231031 20:23:06.633"/>
</return>
<msg timestamp="20231031 20:23:06.634" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:06.634" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:06.318" endtime="20231031 20:23:06.634"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:06.636" endtime="20231031 20:23:06.636"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.635" endtime="20231031 20:23:06.636"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:06.641" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:06.640" endtime="20231031 20:23:06.641"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:06.648" endtime="20231031 20:23:06.902"/>
</kw>
<msg timestamp="20231031 20:23:06.903" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.903" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.644" endtime="20231031 20:23:06.903"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.903" endtime="20231031 20:23:06.904"/>
</return>
<msg timestamp="20231031 20:23:06.906" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.907" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.643" endtime="20231031 20:23:06.907"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:06.910" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'DEU', 'year': 2019, 'rate': 3.78353}</msg>
<status status="PASS" starttime="20231031 20:23:06.908" endtime="20231031 20:23:06.910"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:06.910" endtime="20231031 20:23:06.911"/>
</break>
<status status="PASS" starttime="20231031 20:23:06.908" endtime="20231031 20:23:06.911"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.908" endtime="20231031 20:23:06.911"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.642" endtime="20231031 20:23:06.911"/>
</iter>
<status status="PASS" starttime="20231031 20:23:06.642" endtime="20231031 20:23:06.912"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:06.912" endtime="20231031 20:23:06.912"/>
</return>
<msg timestamp="20231031 20:23:06.913" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:06.913" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.639" endtime="20231031 20:23:06.913"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:06.914" endtime="20231031 20:23:06.915"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:06.915" endtime="20231031 20:23:06.915"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.914" endtime="20231031 20:23:06.916"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.914" endtime="20231031 20:23:06.916"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.637" endtime="20231031 20:23:06.916"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.637" endtime="20231031 20:23:06.916"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.635" endtime="20231031 20:23:06.916"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.635" endtime="20231031 20:23:06.916"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.318" endtime="20231031 20:23:06.917"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.317" endtime="20231031 20:23:06.917"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:06.917" endtime="20231031 20:23:06.918"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:06.917" endtime="20231031 20:23:06.918"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.317" endtime="20231031 20:23:06.918"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.294" endtime="20231031 20:23:06.918"/>
</kw>
<msg timestamp="20231031 20:23:06.919" level="INFO">Releasing item '24' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:06.920" level="INFO">${payload} = {'traffic_data': {'country': 'CYP', 'year': 2013, 'rate': 4.9831}}</msg>
<status status="PASS" starttime="20231031 20:23:06.920" endtime="20231031 20:23:06.921"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:06.923" level="INFO">${traffic_data} = {'country': 'CYP', 'year': 2013, 'rate': 4.9831}</msg>
<status status="PASS" starttime="20231031 20:23:06.922" endtime="20231031 20:23:06.924"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:06.927" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:06.955" level="INFO">${country} = CYP</msg>
<status status="PASS" starttime="20231031 20:23:06.925" endtime="20231031 20:23:06.956"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:06.957" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:06.956" endtime="20231031 20:23:06.957"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:06.957" endtime="20231031 20:23:06.958"/>
</return>
<msg timestamp="20231031 20:23:06.958" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:06.924" endtime="20231031 20:23:06.958"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:06.960" endtime="20231031 20:23:07.261"/>
</kw>
<msg timestamp="20231031 20:23:07.261" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:07.262" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.960" endtime="20231031 20:23:07.262"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:07.262" endtime="20231031 20:23:07.262"/>
</return>
<msg timestamp="20231031 20:23:07.263" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:07.263" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:06.959" endtime="20231031 20:23:07.263"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:07.268" level="INFO">Releasing item '25' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:07.267" endtime="20231031 20:23:07.268"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.266" endtime="20231031 20:23:07.269"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.265" endtime="20231031 20:23:07.269"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:07.269" endtime="20231031 20:23:07.270"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:07.269" endtime="20231031 20:23:07.270"/>
</branch>
<status status="PASS" starttime="20231031 20:23:07.265" endtime="20231031 20:23:07.270"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.264" endtime="20231031 20:23:07.270"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.958" endtime="20231031 20:23:07.270"/>
</kw>
<status status="PASS" starttime="20231031 20:23:06.958" endtime="20231031 20:23:07.271"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:07.271" endtime="20231031 20:23:07.272"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:07.271" endtime="20231031 20:23:07.272"/>
</branch>
<status status="PASS" starttime="20231031 20:23:06.958" endtime="20231031 20:23:07.272"/>
</if>
<status status="PASS" starttime="20231031 20:23:06.919" endtime="20231031 20:23:07.272"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:07.274" level="INFO">${payload} = {'traffic_data': {'country': 'CHE', 'year': 2019, 'rate': 2.24644}}</msg>
<status status="PASS" starttime="20231031 20:23:07.273" endtime="20231031 20:23:07.274"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:07.275" level="INFO">${traffic_data} = {'country': 'CHE', 'year': 2019, 'rate': 2.24644}</msg>
<status status="PASS" starttime="20231031 20:23:07.275" endtime="20231031 20:23:07.275"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:07.279" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:07.319" level="INFO">${country} = CHE</msg>
<status status="PASS" starttime="20231031 20:23:07.276" endtime="20231031 20:23:07.319"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:07.321" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:07.320" endtime="20231031 20:23:07.321"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:07.321" endtime="20231031 20:23:07.322"/>
</return>
<msg timestamp="20231031 20:23:07.322" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:07.276" endtime="20231031 20:23:07.323"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:07.327" endtime="20231031 20:23:07.626"/>
</kw>
<msg timestamp="20231031 20:23:07.627" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:07.627" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:07.326" endtime="20231031 20:23:07.628"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:07.628" endtime="20231031 20:23:07.628"/>
</return>
<msg timestamp="20231031 20:23:07.629" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:07.629" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:07.325" endtime="20231031 20:23:07.629"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:07.633" level="INFO">Releasing item '26' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:07.632" endtime="20231031 20:23:07.634"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.631" endtime="20231031 20:23:07.635"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.631" endtime="20231031 20:23:07.635"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:07.636" endtime="20231031 20:23:07.636"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:07.635" endtime="20231031 20:23:07.637"/>
</branch>
<status status="PASS" starttime="20231031 20:23:07.631" endtime="20231031 20:23:07.637"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.630" endtime="20231031 20:23:07.637"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.324" endtime="20231031 20:23:07.637"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.323" endtime="20231031 20:23:07.637"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:07.638" endtime="20231031 20:23:07.638"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:07.638" endtime="20231031 20:23:07.639"/>
</branch>
<status status="PASS" starttime="20231031 20:23:07.323" endtime="20231031 20:23:07.639"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.273" endtime="20231031 20:23:07.639"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:07.641" level="INFO">${payload} = {'traffic_data': {'country': 'AUT', 'year': 2019, 'rate': 4.86592}}</msg>
<status status="PASS" starttime="20231031 20:23:07.640" endtime="20231031 20:23:07.641"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:07.642" level="INFO">${traffic_data} = {'country': 'AUT', 'year': 2019, 'rate': 4.86592}</msg>
<status status="PASS" starttime="20231031 20:23:07.642" endtime="20231031 20:23:07.643"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:07.646" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:07.684" level="INFO">${country} = AUT</msg>
<status status="PASS" starttime="20231031 20:23:07.644" endtime="20231031 20:23:07.684"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:07.686" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:07.685" endtime="20231031 20:23:07.686"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:07.686" endtime="20231031 20:23:07.687"/>
</return>
<msg timestamp="20231031 20:23:07.687" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:07.643" endtime="20231031 20:23:07.687"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:07.984" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:07.690" endtime="20231031 20:23:07.985"/>
</kw>
<msg timestamp="20231031 20:23:07.986" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:07.986" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:07.689" endtime="20231031 20:23:07.986"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:07.986" endtime="20231031 20:23:07.987"/>
</return>
<msg timestamp="20231031 20:23:07.989" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:07.989" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:07.688" endtime="20231031 20:23:07.989"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:07.992" endtime="20231031 20:23:07.992"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:07.991" endtime="20231031 20:23:07.992"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:07.995" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:07.995" endtime="20231031 20:23:07.996"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:07.999" endtime="20231031 20:23:08.254"/>
</kw>
<msg timestamp="20231031 20:23:08.254" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:08.255" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:07.998" endtime="20231031 20:23:08.255"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:08.255" endtime="20231031 20:23:08.255"/>
</return>
<msg timestamp="20231031 20:23:08.257" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:08.257" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:07.997" endtime="20231031 20:23:08.257"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:08.260" level="INFO">Reprocessed successfully after 1 attempts: {'country': 'AUT', 'year': 2019, 'rate': 4.86592}</msg>
<status status="PASS" starttime="20231031 20:23:08.258" endtime="20231031 20:23:08.260"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:08.260" endtime="20231031 20:23:08.261"/>
</break>
<status status="PASS" starttime="20231031 20:23:08.258" endtime="20231031 20:23:08.261"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.258" endtime="20231031 20:23:08.261"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.996" endtime="20231031 20:23:08.261"/>
</iter>
<status status="PASS" starttime="20231031 20:23:07.996" endtime="20231031 20:23:08.262"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:08.262" endtime="20231031 20:23:08.262"/>
</return>
<msg timestamp="20231031 20:23:08.263" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:08.263" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:07.994" endtime="20231031 20:23:08.263"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:08.264" endtime="20231031 20:23:08.264"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:08.265" endtime="20231031 20:23:08.266"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:08.264" endtime="20231031 20:23:08.266"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.264" endtime="20231031 20:23:08.266"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.993" endtime="20231031 20:23:08.267"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.993" endtime="20231031 20:23:08.267"/>
</branch>
<status status="PASS" starttime="20231031 20:23:07.991" endtime="20231031 20:23:08.267"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.990" endtime="20231031 20:23:08.268"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.688" endtime="20231031 20:23:08.268"/>
</kw>
<status status="PASS" starttime="20231031 20:23:07.687" endtime="20231031 20:23:08.269"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:08.270" endtime="20231031 20:23:08.270"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:08.269" endtime="20231031 20:23:08.271"/>
</branch>
<status status="PASS" starttime="20231031 20:23:07.687" endtime="20231031 20:23:08.271"/>
</if>
<status status="PASS" starttime="20231031 20:23:07.640" endtime="20231031 20:23:08.271"/>
</kw>
<msg timestamp="20231031 20:23:08.271" level="INFO">Releasing item '27' with COMPLETED state and exception: None</msg>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:08.273" level="INFO">${payload} = {'traffic_data': {'country': 'AUS', 'year': 2019, 'rate': 4.93914}}</msg>
<status status="PASS" starttime="20231031 20:23:08.273" endtime="20231031 20:23:08.274"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:08.275" level="INFO">${traffic_data} = {'country': 'AUS', 'year': 2019, 'rate': 4.93914}</msg>
<status status="PASS" starttime="20231031 20:23:08.274" endtime="20231031 20:23:08.275"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:08.278" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:08.310" level="INFO">${country} = AUS</msg>
<status status="PASS" starttime="20231031 20:23:08.276" endtime="20231031 20:23:08.311"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:08.312" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:08.311" endtime="20231031 20:23:08.312"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:08.312" endtime="20231031 20:23:08.312"/>
</return>
<msg timestamp="20231031 20:23:08.312" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:08.275" endtime="20231031 20:23:08.313"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:08.314" endtime="20231031 20:23:08.611"/>
</kw>
<msg timestamp="20231031 20:23:08.612" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:08.612" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:08.314" endtime="20231031 20:23:08.612"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:08.613" endtime="20231031 20:23:08.613"/>
</return>
<msg timestamp="20231031 20:23:08.614" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:08.614" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:08.313" endtime="20231031 20:23:08.614"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>DONE</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<msg timestamp="20231031 20:23:08.620" level="INFO">Releasing item '28' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:23:08.618" endtime="20231031 20:23:08.621"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.617" endtime="20231031 20:23:08.622"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.616" endtime="20231031 20:23:08.622"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:08.623" endtime="20231031 20:23:08.623"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:08.622" endtime="20231031 20:23:08.623"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.616" endtime="20231031 20:23:08.623"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.615" endtime="20231031 20:23:08.623"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.313" endtime="20231031 20:23:08.625"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.313" endtime="20231031 20:23:08.626"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:08.627" endtime="20231031 20:23:08.627"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:08.626" endtime="20231031 20:23:08.627"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.313" endtime="20231031 20:23:08.628"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.272" endtime="20231031 20:23:08.628"/>
</kw>
<kw name="Process traffic data">
<kw name="Get Work Item Payload" library="RPA.Robocorp.WorkItems">
<var>${payload}</var>
<doc>Get the full JSON payload for a work item.</doc>
<msg timestamp="20231031 20:23:08.631" level="INFO">${payload} = {'traffic_data': {'country': 'ATG', 'year': 2019, 'rate': 0.0}}</msg>
<status status="PASS" starttime="20231031 20:23:08.630" endtime="20231031 20:23:08.631"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${traffic_data}</var>
<arg>${payload}[${WORK_ITEM_NAME}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:08.633" level="INFO">${traffic_data} = {'country': 'ATG', 'year': 2019, 'rate': 0.0}</msg>
<status status="PASS" starttime="20231031 20:23:08.632" endtime="20231031 20:23:08.633"/>
</kw>
<kw name="Validate traffic data">
<var>${valid}</var>
<arg>${traffic_data}</arg>
<kw name="Get value from JSON" library="RPA.JSON">
<var>${country}</var>
<arg>${traffic_data}</arg>
<arg>$.country</arg>
<doc>Get a single value from a JSON serializable object that matches the given expression.</doc>
<msg timestamp="20231031 20:23:08.636" level="INFO">Get value from JSON with expression: '$.country'</msg>
<msg timestamp="20231031 20:23:08.657" level="INFO">${country} = ATG</msg>
<status status="PASS" starttime="20231031 20:23:08.634" endtime="20231031 20:23:08.658"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${valid}</var>
<arg>len("${country}") == 3</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20231031 20:23:08.658" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:08.658" endtime="20231031 20:23:08.659"/>
</kw>
<return>
<value>${valid}</value>
<status status="PASS" starttime="20231031 20:23:08.659" endtime="20231031 20:23:08.659"/>
</return>
<msg timestamp="20231031 20:23:08.659" level="INFO">${valid} = True</msg>
<status status="PASS" starttime="20231031 20:23:08.633" endtime="20231031 20:23:08.659"/>
</kw>
<if>
<branch type="IF" condition="${valid}">
<kw name="Post traffic data to sales system">
<arg>${traffic_data}</arg>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:08.883" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:08.661" endtime="20231031 20:23:08.884"/>
</kw>
<msg timestamp="20231031 20:23:08.885" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:08.885" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:08.660" endtime="20231031 20:23:08.885"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:08.885" endtime="20231031 20:23:08.886"/>
</return>
<msg timestamp="20231031 20:23:08.886" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:08.887" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:08.660" endtime="20231031 20:23:08.887"/>
</kw>
<kw name="Handle traffic API response">
<arg>${status}</arg>
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<if>
<branch type="IF" condition="&quot;${status}&quot; == &quot;PASS&quot;">
<kw name="Handle traffic API OK response">
<status status="NOT RUN" starttime="20231031 20:23:08.889" endtime="20231031 20:23:08.889"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:08.888" endtime="20231031 20:23:08.890"/>
</branch>
<branch type="ELSE">
<kw name="Handle traffic API error response">
<arg>${return}</arg>
<arg>${traffic_data}</arg>
<kw name="Retry On Application Error">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${retry_count}</var>
<arg>7</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20231031 20:23:08.893" level="INFO">${retry_count} = 7</msg>
<status status="PASS" starttime="20231031 20:23:08.892" endtime="20231031 20:23:08.893"/>
</kw>
<for flavor="IN RANGE">
<var>${i}</var>
<value>${retry_count}</value>
<iter>
<var name="${i}">0</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<msg timestamp="20231031 20:23:09.126" level="FAIL">HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="FAIL" starttime="20231031 20:23:08.898" endtime="20231031 20:23:09.127"/>
</kw>
<msg timestamp="20231031 20:23:09.127" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:09.128" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:08.896" endtime="20231031 20:23:09.128"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:09.128" endtime="20231031 20:23:09.128"/>
</return>
<msg timestamp="20231031 20:23:09.130" level="INFO">${status} = FAIL</msg>
<msg timestamp="20231031 20:23:09.130" level="INFO">${return} = HTTPError: 500 Server Error: Internal Server Error for url: https://robocorp.com/inhuman-insurance-inc/sales-system-api</msg>
<status status="PASS" starttime="20231031 20:23:08.894" endtime="20231031 20:23:09.131"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:09.132" endtime="20231031 20:23:09.132"/>
</kw>
<break>
<status status="NOT RUN" starttime="20231031 20:23:09.132" endtime="20231031 20:23:09.132"/>
</break>
<status status="NOT RUN" starttime="20231031 20:23:09.131" endtime="20231031 20:23:09.133"/>
</branch>
<status status="PASS" starttime="20231031 20:23:09.131" endtime="20231031 20:23:09.133"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.894" endtime="20231031 20:23:09.133"/>
</iter>
<iter>
<var name="${i}">1</var>
<kw name="Execute Traffic Data Post">
<var>${status}</var>
<var>${return}</var>
<arg>${traffic_data}</arg>
<kw name="Run Keyword And Ignore Error" library="BuiltIn">
<var>${status}</var>
<var>${return}</var>
<arg>POST</arg>
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<kw name="POST" library="RPA.HTTP">
<arg>https://robocorp.com/inhuman-insurance-inc/sales-system-api</arg>
<arg>json=${traffic_data}</arg>
<doc>Sends a POST request.</doc>
<status status="PASS" starttime="20231031 20:23:09.136" endtime="20231031 20:23:09.453"/>
</kw>
<msg timestamp="20231031 20:23:09.454" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:09.454" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:09.135" endtime="20231031 20:23:09.454"/>
</kw>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:09.454" endtime="20231031 20:23:09.455"/>
</return>
<msg timestamp="20231031 20:23:09.455" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:09.456" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:09.134" endtime="20231031 20:23:09.456"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'PASS'">
<kw name="Log" library="BuiltIn">
<arg>Reprocessed successfully after ${i+1} attempts: ${traffic_data}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20231031 20:23:09.458" level="INFO">Reprocessed successfully after 2 attempts: {'country': 'ATG', 'year': 2019, 'rate': 0.0}</msg>
<status status="PASS" starttime="20231031 20:23:09.457" endtime="20231031 20:23:09.459"/>
</kw>
<break>
<status status="PASS" starttime="20231031 20:23:09.459" endtime="20231031 20:23:09.459"/>
</break>
<status status="PASS" starttime="20231031 20:23:09.456" endtime="20231031 20:23:09.460"/>
</branch>
<status status="PASS" starttime="20231031 20:23:09.456" endtime="20231031 20:23:09.460"/>
</if>
<status status="PASS" starttime="20231031 20:23:09.134" endtime="20231031 20:23:09.460"/>
</iter>
<status status="PASS" starttime="20231031 20:23:08.894" endtime="20231031 20:23:09.460"/>
</for>
<return>
<value>${status}</value>
<value>${return}</value>
<status status="PASS" starttime="20231031 20:23:09.461" endtime="20231031 20:23:09.461"/>
</return>
<msg timestamp="20231031 20:23:09.462" level="INFO">${status} = PASS</msg>
<msg timestamp="20231031 20:23:09.462" level="INFO">${return} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20231031 20:23:08.891" endtime="20231031 20:23:09.462"/>
</kw>
<if>
<branch type="IF" condition="'${status}' == 'FAIL'">
<kw name="Log" library="BuiltIn">
<arg>Traffic data posting failed: ${traffic_data} ${return}</arg>
<arg>ERROR</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20231031 20:23:09.463" endtime="20231031 20:23:09.463"/>
</kw>
<kw name="Release Input Work Item" library="RPA.Robocorp.WorkItems">
<arg>state=FAILED</arg>
<arg>exception_type=APPLICATION</arg>
<arg>code=TRAFFIC_DATA_POST_FAILED</arg>
<arg>message=${return}</arg>
<doc>Release the lastly retrieved input work item and set its state.</doc>
<status status="NOT RUN" starttime="20231031 20:23:09.464" endtime="20231031 20:23:09.464"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:09.463" endtime="20231031 20:23:09.465"/>
</branch>
<status status="PASS" starttime="20231031 20:23:09.463" endtime="20231031 20:23:09.465"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.890" endtime="20231031 20:23:09.465"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.890" endtime="20231031 20:23:09.465"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.888" endtime="20231031 20:23:09.466"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.887" endtime="20231031 20:23:09.466"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.660" endtime="20231031 20:23:09.466"/>
</kw>
<status status="PASS" starttime="20231031 20:23:08.659" endtime="20231031 20:23:09.466"/>
</branch>
<branch type="ELSE">
<kw name="Handle invalid traffic data">
<arg>${traffic_data}</arg>
<status status="NOT RUN" starttime="20231031 20:23:09.467" endtime="20231031 20:23:09.467"/>
</kw>
<status status="NOT RUN" starttime="20231031 20:23:09.467" endtime="20231031 20:23:09.467"/>
</branch>
<status status="PASS" starttime="20231031 20:23:08.659" endtime="20231031 20:23:09.468"/>
</if>
<status status="PASS" starttime="20231031 20:23:08.629" endtime="20231031 20:23:09.468"/>
</kw>
<msg timestamp="20231031 20:23:09.468" level="INFO">Releasing item '29' with COMPLETED state and exception: None</msg>
<status status="PASS" starttime="20231031 20:22:51.761" endtime="20231031 20:23:09.468"/>
</kw>
<status status="PASS" starttime="20231031 20:22:51.760" endtime="20231031 20:23:09.470"/>
</test>
<doc>Inhuman Insurance, Inc. Artificial Intelligence System robot.
Consumes traffic data work items.</doc>
<status status="PASS" starttime="20231031 20:22:50.944" endtime="20231031 20:23:09.472"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tasks</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="1" fail="0" skip="0" id="s1" name="Consumer">Consumer</stat>
</suite>
</statistics>
<errors>
<msg timestamp="20231031 20:22:52.665" level="WARN">Invalid country detected: SWError. Correcting to BRA.</msg>
</errors>
</robot>
